[33mcommit 120eb4af7bf5f72b4efe269dfc0557c0fda6b3b8[m[33m ([m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m)[m
Author: gtjyj <190316516@qq.com>
Date:   Sun Jan 6 22:59:11 2019 +0800

    Update forward.js

[1mdiff --git a/src/share/forward.js b/src/share/forward.js[m
[1mindex 09d4739..fe7cd23 100644[m
[1m--- a/src/share/forward.js[m
[1m+++ b/src/share/forward.js[m
[36m@@ -1,9 +1,8 @@[m
 'use strict'[m
 import router from '../router';[m
[31m-import { Toast   } from 'mint-ui';[m
 import comm from './common'[m
 let noDev = function(){[m
[31m-    Toast({message: "功能开发中，路由暂无法跳转"});[m
[32m+[m[32m    comm.msg("功能开发中，路由暂无法跳转");[m
 }[m
 export default {[m
     index:()=>{[m

[33mcommit 55f3ada71c729fe0de2e17512e33bd9b15843b0d[m
Author: gtjyj <190316516@qq.com>
Date:   Sun Jan 6 22:58:35 2019 +0800

    优化一次跳转服务类的提示信息

[1mdiff --git a/src/pages/Curriculum/Curriculum.vue b/src/pages/Curriculum/Curriculum.vue[m
[1mindex ca96c63..769a098 100644[m
[1m--- a/src/pages/Curriculum/Curriculum.vue[m
[1m+++ b/src/pages/Curriculum/Curriculum.vue[m
[36m@@ -188,11 +188,7 @@[m
     methods: {[m
       onChoiceCount:function(e){[m
         // 请求服务器创建订单，跳转到支付页面[m
[31m-        let f = this.forward.payment("12321","幸福能量","99.00",e);[m
[31m-        if(f){[m
[31m-          // 有错误信息[m
[31m-          this.comm.msg(f)[m
[31m-        }[m
[32m+[m[32m        this.forward.payment("12321","幸福能量","99.00",e);[m
       },[m
       onCharge:function(){[m
         // this.forward.login();[m
[1mdiff --git a/src/pages/Curriculum/Payment.vue b/src/pages/Curriculum/Payment.vue[m
[1mindex df21a1f..31d113e 100644[m
[1m--- a/src/pages/Curriculum/Payment.vue[m
[1m+++ b/src/pages/Curriculum/Payment.vue[m
[36m@@ -119,7 +119,6 @@[m
       },[m
         payAgin:function(){[m
             //重新支付[m
[31m-            //this.forward.payment(this.curriculumInfo.order,this.curriculumInfo.name,this.curriculumInfo.price,this.curriculumInfo.count);[m
             this.$router.go(0)[m
             //this.showResult=false;[m
         }[m
[1mdiff --git a/src/share/forward.js b/src/share/forward.js[m
[1mindex 5f1d123..09d4739 100644[m
[1m--- a/src/share/forward.js[m
[1m+++ b/src/share/forward.js[m
[36m@@ -36,6 +36,7 @@[m [mexport default {[m
     },[m
     // 操作指南内容，type为auth、sign、appoint、exchange、login[m
     helpDetail:(type)=>{[m
[32m+[m[32m        if(!type){comm.msg("type不能为空");return;}[m
         router.push('/HelpDetail?type='+type);[m
     },[m
     // 消息中心[m
[36m@@ -44,16 +45,16 @@[m [mexport default {[m
     },[m
     // 能量详情（经营,代理商）,type=custom|agent 进入代理商视图、普通用户视图，id为能量的ID，用于获取显示内容[m
     curriculum:(id,type)=>{[m
[31m-        if(!id)return "课程id不能为空";[m
[32m+[m[32m        if(!id){comm.msg("课程id不能为空");return;}[m
         type = type?type:"custom";[m
         router.push(`/Curriculum?type=${type}&id=${id}`);[m
     },[m
     // 支付页面,order订单号，课程名，票价单价，数量[m
     payment:(order,name,price,count)=>{[m
[31m-        if(!order)return "订单号为空";[m
[31m-        if(!name)return "课程名为空";[m
[31m-        if(!price)return "票价为空";[m
[31m-        if(!count)return "数量为空";[m
[32m+[m[32m        if(!order){comm.msg("订单号为空");return;}[m
[32m+[m[32m        if(!name){comm.msg("课程名为空");return;}[m
[32m+[m[32m        if(!price){comm.msg("票价为空");return;}[m
[32m+[m[32m        if(!count){comm.msg("数量为空");return;}[m
         router.push(`/Payment?order=${order}&name=${name}&price=${price}&count=${count}`);[m
     },[m
     // 兑换券页面 type 1未使用，2已送出，3已使用[m

[33mcommit f8ea305b42fb2c8af8bf6e7a766d6a3510768493[m
Author: gtjyj <190316516@qq.com>
Date:   Sun Jan 6 22:52:54 2019 +0800

    我的设置开发完成

[1mdiff --git a/src/assets/css/share.css b/src/assets/css/share.css[m
[1mindex 8baf2b7..dc6fcb8 100644[m
[1m--- a/src/assets/css/share.css[m
[1m+++ b/src/assets/css/share.css[m
[36m@@ -63,4 +63,4 @@[m
 .radius{border-radius: 10px;}[m
 .bottom-btn-palce{height: 50px;width: 100%;}[m
 [m
[31m-.bold{font-weight: 600!important;}[m
\ No newline at end of file[m
[32m+[m[32m.bold{font-weight: 600!important;}[m
[1mdiff --git a/src/assets/imgs/dengluzhinan@2x.png b/src/assets/imgs/dengluzhinan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..97d64e8[m
Binary files /dev/null and b/src/assets/imgs/dengluzhinan@2x.png differ
[1mdiff --git a/src/assets/imgs/duihuanzhinan@2x.png b/src/assets/imgs/duihuanzhinan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..cac4e11[m
Binary files /dev/null and b/src/assets/imgs/duihuanzhinan@2x.png differ
[1mdiff --git a/src/assets/imgs/qiandaozhinan@2x.png b/src/assets/imgs/qiandaozhinan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..9eea3c9[m
Binary files /dev/null and b/src/assets/imgs/qiandaozhinan@2x.png differ
[1mdiff --git a/src/assets/imgs/renzhengzhinan@2x.png b/src/assets/imgs/renzhengzhinan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..dd611d1[m
Binary files /dev/null and b/src/assets/imgs/renzhengzhinan@2x.png differ
[1mdiff --git a/src/assets/imgs/yuyuezhinan@2x.png b/src/assets/imgs/yuyuezhinan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..9d442e2[m
Binary files /dev/null and b/src/assets/imgs/yuyuezhinan@2x.png differ
[1mdiff --git a/src/pages/My/aboutUs.vue b/src/pages/My/aboutUs.vue[m
[1mindex 129bfd2..758d59d 100644[m
[1m--- a/src/pages/My/aboutUs.vue[m
[1m+++ b/src/pages/My/aboutUs.vue[m
[36m@@ -1,5 +1,45 @@[m
 <template>[m
[31m-    <div>[m
[31m-        关于我们[m
[32m+[m[32m  <div class="aboutus">[m
[32m+[m[32m    <title-bar title="关于我们" :back="true">[m
[32m+[m[32m      <div slot="right">[m
[32m+[m[32m        <!-- 右上角要放自己的按钮，或其他html，放这里，比如这里放了一个消息组件 -->[m
[32m+[m[32m        <!-- 消息组件支持文字标题、图标颜色自定义 -->[m
[32m+[m[32m        <!-- <messager title="" color="black"></messager> -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </title-bar>[m
[32m+[m[32m    <div style="" class="center">[m
[32m+[m[32m        <img src="static/tempImg/2code.png">[m
     </div>[m
[32m+[m[32m    <div class="center">[m
[32m+[m[32m        慧宇千城由能量时光提供软件服务支持[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
 </template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'AboutUs',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[41m        [m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .aboutus {[m
[32m+[m[32m    background-color: rgb(247, 247, 247);[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/My/customerService.vue b/src/pages/My/customerService.vue[m
[1mindex 16249f8..f3ae1ba 100644[m
[1m--- a/src/pages/My/customerService.vue[m
[1m+++ b/src/pages/My/customerService.vue[m
[36m@@ -1,3 +1,100 @@[m
 <template>[m
[31m-    <div>客服</div>[m
[32m+[m[32m  <div>[m
[32m+[m[32m    <title-bar title="联系客服" :back="true">[m
[32m+[m[32m      <div slot="right">[m
[32m+[m[32m        <!-- 右上角要放自己的按钮，或其他html，放这里，比如这里放了一个消息组件 -->[m
[32m+[m[32m        <!-- 消息组件支持文字标题、图标颜色自定义 -->[m
[32m+[m[32m        <!-- <messager title="" color="black"></messager> -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </title-bar>[m
[32m+[m[32m    <div class="title">[m
[32m+[m[32m        官方客服[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="detail">[m
[32m+[m[32m        服务热线：4000-551-599[m
[32m+[m[32m        <br>[m
[32m+[m[32m        人工客服：137-1091-0000[m
[32m+[m[32m        <br>[m
[32m+[m[32m        工作时间：9：30~18：00[m
[32m+[m[32m    </div>[m
[32m+[m
[32m+[m[32m    <div class="title">[m
[32m+[m[32m        分公司客服[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="detail">[m
[32m+[m[32m        名称：1111-111-111[m
[32m+[m[32m        <br>[m
[32m+[m[32m        名称：1111-111-111[m
[32m+[m[32m    </div>[m
[32m+[m
[32m+[m[32m    <div class="center" style="position:absolute;width:100%;bottom:40px;">[m
[32m+[m[32m        <div>[m
[32m+[m[32m            <div class="inline-block qrcode" style="margin-right:20px;">[m
[32m+[m[32m                <img src="/static/tempImg/2code.png" class="fullSize">[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="inline-block qrcode">[m
[32m+[m[32m                <img src="/static/tempImg/2code.png" class="fullSize">[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div>[m
[32m+[m[32m            <div class="inline-block qrcode-name" style="margin-right:20px;">[m
[32m+[m[32m                慧宇千城公众号[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="inline-block qrcode-name">[m
[32m+[m[32m                能量时光公众号[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
 </template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'CustomerService',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[41m         [m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m      // TODO 查询订单状态是否可以支付[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .title {[m
[32m+[m[32m      border-bottom: 1px solid #efefef;[m
[32m+[m[32m    height: 22px;[m
[32m+[m[32m    font-size: 16px;[m
[32m+[m[32m    font-weight: 600;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 22px;[m
[32m+[m[32m    margin: 10px 14px;[m
[32m+[m[32m    padding: 5px 0px;[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .detail {[m
[32m+[m[32m    padding: 5px 14px;[m
[32m+[m[32m    font-size: 12px;[m
[32m+[m[32m    font-family: PingFangSC-Regular;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(102, 102, 102, 1);[m
[32m+[m[32m    line-height: 25px;[m
[32m+[m[32m  }[m
[32m+[m[32m  .qrcode{[m
[32m+[m[32m      height:130px;width:130px;border: 5px solid #efefef;border-radius: 10px;[m
[32m+[m[32m  }[m
[32m+[m[32m  .qrcode-name{[m
[32m+[m[32m      width:130px;color:#999;margin-top:10px;[m
[32m+[m[32m  }[m
[32m+[m[32m</style>[m
[41m+[m
[1mdiff --git a/src/pages/My/help.vue b/src/pages/My/help.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..0da3c2f[m
[1m--- /dev/null[m
[1m+++ b/src/pages/My/help.vue[m
[36m@@ -0,0 +1,55 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="aboutus">[m
[32m+[m[32m    <title-bar title="操作指南手册" :back="true">[m
[32m+[m[32m      <div slot="right">[m
[32m+[m[32m        <!-- 右上角要放自己的按钮，或其他html，放这里，比如这里放了一个消息组件 -->[m
[32m+[m[32m        <!-- 消息组件支持文字标题、图标颜色自定义 -->[m
[32m+[m[32m        <!-- <messager title="" color="black"></messager> -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </title-bar>[m
[32m+[m[32m    <mt-cell title="认证操作指南" @click.native="forward.helpDetail('auth')" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m      <img slot="icon" src="../../assets/imgs/renzhengzhinan@2x.png" width="24" height="24">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m    <mt-cell title="签到操作指南" @click.native="forward.helpDetail('sign')" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m      <img slot="icon" src="../../assets/imgs/qiandaozhinan@2x.png" width="24" height="24">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m     <mt-cell title="预约操作指南" @click.native="forward.helpDetail('appoint')" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m       <img slot="icon" src="../../assets/imgs/yuyuezhinan@2x.png" width="24" height="24">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m     <mt-cell title="兑换操作指南" @click.native="forward.helpDetail('exchange')" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m       <img slot="icon" src="../../assets/imgs/duihuanzhinan@2x.png" width="24" height="24">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m     <mt-cell title="登录操作指南" @click.native="forward.helpDetail('login')" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m       <img slot="icon" src="../../assets/imgs/dengluzhinan@2x.png" width="24" height="24">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'Help',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[41m        [m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .aboutus {[m
[32m+[m[32m    background-color: rgb(247, 247, 247);[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/My/helpDetail.vue b/src/pages/My/helpDetail.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..1ec5db8[m
[1m--- /dev/null[m
[1m+++ b/src/pages/My/helpDetail.vue[m
[36m@@ -0,0 +1,49 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="aboutus">[m
[32m+[m[32m    <title-bar :title="title+'指南手册'" :back="true">[m
[32m+[m[32m      <div slot="right">[m
[32m+[m[32m        <!-- 右上角要放自己的按钮，或其他html，放这里，比如这里放了一个消息组件 -->[m
[32m+[m[32m        <!-- 消息组件支持文字标题、图标颜色自定义 -->[m
[32m+[m[32m        <!-- <messager title="" color="black"></messager> -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </title-bar>[m
[32m+[m[32m    操作内容待定[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'HelpDetail',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        type:this.$route.query.type,[m
[32m+[m[32m        title:""[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[41m        [m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m      switch(this.$route.query.type){[m
[32m+[m[32m        case "auth":this.title="认证";break;[m
[32m+[m[32m        case "sign":this.title="签到";break;[m
[32m+[m[32m        case "appoint":this.title="预约";break;[m
[32m+[m[32m        case "exchange":this.title="兑换";break;[m
[32m+[m[32m        case "login":this.title="登录";break;[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .aboutus {[m
[32m+[m[32m    background-color: rgb(247, 247, 247);[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/My/setUp.vue b/src/pages/My/setUp.vue[m
[1mindex 2115539..2fbb485 100644[m
[1m--- a/src/pages/My/setUp.vue[m
[1m+++ b/src/pages/My/setUp.vue[m
[36m@@ -1,3 +1,63 @@[m
 <template>[m
[31m-    <div>设置</div>[m
[32m+[m[32m  <div class="setup">[m
[32m+[m[32m    <title-bar title="我的设置" :back="true">[m
[32m+[m[32m      <div slot="right">[m
[32m+[m[32m        <!-- 右上角要放自己的按钮，或其他html，放这里，比如这里放了一个消息组件 -->[m
[32m+[m[32m        <!-- 消息组件支持文字标题、图标颜色自定义 -->[m
[32m+[m[32m        <!-- <messager title="" color="black"></messager> -->[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </title-bar>[m
[32m+[m[32m    <mt-cell title="消息开关">[m
[32m+[m[32m        <mt-switch v-model="value" v-on:change="change()"></mt-switch>[m
[32m+[m[32m    </mt-cell>[m
[32m+[m
[32m+[m[32m    <mt-cell title="编辑资料" @click.native="forward.editSelfInfo()" is-link value="" style="margin-top:5px;">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m    <mt-cell title="操作指南" @click.native="forward.help()" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m    <mt-cell title="关于我们" @click.native="forward.aboutUs()" is-link value="" style="border-top:1px solid #efefef;">[m
[32m+[m[32m    </mt-cell>[m
[32m+[m[32m  </div>[m
 </template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'SetUp',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        value:true[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m        change:function(){[m
[32m+[m[32m            if(!this.value){[m
[32m+[m[32m                this.comm.confirm("关闭消息后，无法收到任何消息， 是否确定关闭? ","温馨提示",{confirmButtonText:"确认关闭",cancelButtonText:"我再想想"})[m
[32m+[m[32m                .then((action)=>{[m
[32m+[m[32m                    if(action==='cancel'){[m
[32m+[m[32m                        this.value=true;[m
[32m+[m[32m                    }else{[m
[32m+[m[32m                        // 提交服务器修改设置[m
[32m+[m[32m                        console.log(111,this.value)[m
[32m+[m[32m                    }[m
[32m+[m[32m                })[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m      // TODO 查询消息开关[m
[32m+[m[32m      this.value=true;[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .setup {[m
[32m+[m[32m    background-color: rgb(247, 247, 247);[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/router/sub-index.js b/src/router/sub-index.js[m
[1mindex e21cb21..21340e3 100644[m
[1m--- a/src/router/sub-index.js[m
[1m+++ b/src/router/sub-index.js[m
[36m@@ -24,4 +24,34 @@[m [mexport default [[m
         name: 'Payment',[m
         component: resolve => require(['@/pages/Curriculum/Payment'],resolve),[m
       },[m
[32m+[m[32m      // 客服界面[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/CustomerService',[m
[32m+[m[32m        name: 'CustomerService',[m
[32m+[m[32m        component: resolve => require(['@/pages/My/CustomerService'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[32m      // 设置[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/SetUp',[m[41m [m
[32m+[m[32m        name: 'SetUp',[m
[32m+[m[32m        component: resolve => require(['@/pages/My/SetUp'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[32m      // 关于我们[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/AboutUs',[m[41m [m
[32m+[m[32m        name: 'AboutUs',[m
[32m+[m[32m        component: resolve => require(['@/pages/My/AboutUs'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[32m      // 操作指南导航页[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/Help',[m[41m [m
[32m+[m[32m        name: 'Help',[m
[32m+[m[32m        component: resolve => require(['@/pages/My/Help'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[32m      // 操作指南[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/HelpDetail',[m[41m [m
[32m+[m[32m        name: 'HelpDetail',[m
[32m+[m[32m        component: resolve => require(['@/pages/My/HelpDetail'],resolve),[m
[32m+[m[32m      },[m
     ] [m
\ No newline at end of file[m
[1mdiff --git a/src/share/common.js b/src/share/common.js[m
[1mindex b49ac3c..204f691 100644[m
[1m--- a/src/share/common.js[m
[1m+++ b/src/share/common.js[m
[36m@@ -79,8 +79,13 @@[m [mexport default{[m
         //MessageBox(title||'提示', txt);[m
         return MessageBox.alert(txt,title||'提示');[m
     },[m
[31m-    confirm:(txt,title)=>{[m
[31m-        return MessageBox.confirm(txt,title||"提示")[m
[32m+[m[32m    confirm:(message,title,opt={})=>{[m
[32m+[m[32m        return MessageBox(Object.assign({[m
[32m+[m[32m            message,[m
[32m+[m[32m            title:title||"提示",[m
[32m+[m[32m            showConfirmButton:true,[m
[32m+[m[32m            showCancelButton:true[m
[32m+[m[32m        },opt))[m
     },[m
 [m
     // 加载状态遮罩控制[m
[1mdiff --git a/src/share/forward.js b/src/share/forward.js[m
[1mindex a3fb398..5f1d123 100644[m
[1m--- a/src/share/forward.js[m
[1m+++ b/src/share/forward.js[m
[36m@@ -3,7 +3,7 @@[m [mimport router from '../router';[m
 import { Toast   } from 'mint-ui';[m
 import comm from './common'[m
 let noDev = function(){[m
[31m-    Toast({message: "功能开发中"});[m
[32m+[m[32m    Toast({message: "功能开发中，路由暂无法跳转"});[m
 }[m
 export default {[m
     index:()=>{[m
[36m@@ -15,11 +15,32 @@[m [mexport default {[m
     },[m
     // 客服页面[m
     service:()=>{[m
[32m+[m[32m        router.push('/CustomerService');[m
[32m+[m[32m    },[m
[32m+[m[32m    // 设置页面[m
[32m+[m[32m    setup:()=>{[m
[32m+[m[32m        router.push('/SetUp');[m
[32m+[m[32m    },[m
[32m+[m[32m    // 设置-编辑资料[m
[32m+[m[32m    editSelfInfo:()=>{[m
[32m+[m[32m        //router.push('/editSelfInfo');[m
         noDev();[m
     },[m
[32m+[m[32m    //关于我们[m
[32m+[m[32m    aboutUs:()=>{[m
[32m+[m[32m        router.push('/aboutUs');[m
[32m+[m[32m    },[m
[32m+[m[32m    //操作指南首页[m
[32m+[m[32m    help:()=>{[m
[32m+[m[32m        router.push('/help');[m
[32m+[m[32m    },[m
[32m+[m[32m    // 操作指南内容，type为auth、sign、appoint、exchange、login[m
[32m+[m[32m    helpDetail:(type)=>{[m
[32m+[m[32m        router.push('/HelpDetail?type='+type);[m
[32m+[m[32m    },[m
     // 消息中心[m
     messageCenter:()=>{[m
[31m-        noDev();[m
[32m+[m[32m        noDev()[m
     },[m
     // 能量详情（经营,代理商）,type=custom|agent 进入代理商视图、普通用户视图，id为能量的ID，用于获取显示内容[m
     curriculum:(id,type)=>{[m
[1mdiff --git a/static/tempImg/2code.png b/static/tempImg/2code.png[m
[1mnew file mode 100644[m
[1mindex 0000000..7775593[m
Binary files /dev/null and b/static/tempImg/2code.png differ

[33mcommit d9d4d4a018d7dfcd6934a66e1c6b4541d6705201[m
Author: gtjyj <190316516@qq.com>
Date:   Sun Jan 6 17:20:30 2019 +0800

    经营能量部分布局完成

[1mdiff --git a/src/assets/css/my-mint.scss b/src/assets/css/my-mint.scss[m
[1mindex 87cb8ec..812bab2 100644[m
[1m--- a/src/assets/css/my-mint.scss[m
[1m+++ b/src/assets/css/my-mint.scss[m
[36m@@ -62,4 +62,6 @@[m [m$color-primary: #2CAD88;[m
   background-color:white;[m
 }[m
 [m
[31m-.mint-header-title{font-size: 17px;font-weight:400;}[m
\ No newline at end of file[m
[32m+[m[32m.mint-header-title{font-size: 17px;font-weight:400;}[m
[32m+[m
[32m+[m[32m.mint-toast{z-index: 9999;}[m
\ No newline at end of file[m
[1mdiff --git a/src/assets/css/share.css b/src/assets/css/share.css[m
[1mindex 8ad6cc6..8baf2b7 100644[m
[1m--- a/src/assets/css/share.css[m
[1m+++ b/src/assets/css/share.css[m
[36m@@ -61,4 +61,6 @@[m
 .floatRight{float: left!important;}[m
 .fullSize{width: 100%;height: 100%;}[m
 .radius{border-radius: 10px;}[m
[31m-.bottom-btn-palce{height: 50px;width: 100%;}[m
\ No newline at end of file[m
[32m+[m[32m.bottom-btn-palce{height: 50px;width: 100%;}[m
[32m+[m
[32m+[m[32m.bold{font-weight: 600!important;}[m
\ No newline at end of file[m
[1mdiff --git a/src/assets/imgs/shangchuan@2x.png b/src/assets/imgs/shangchuan@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..78cb5a8[m
Binary files /dev/null and b/src/assets/imgs/shangchuan@2x.png differ
[1mdiff --git a/src/assets/imgs/weixuanzhong@2x.png b/src/assets/imgs/weixuanzhong@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..54d7e03[m
Binary files /dev/null and b/src/assets/imgs/weixuanzhong@2x.png differ
[1mdiff --git a/src/assets/imgs/xuanzhong@2x.png b/src/assets/imgs/xuanzhong@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..94ba969[m
Binary files /dev/null and b/src/assets/imgs/xuanzhong@2x.png differ
[1mdiff --git a/src/components/bottomBtn.vue b/src/components/bottomBtn.vue[m
[1mindex 20c8276..90341e3 100644[m
[1m--- a/src/components/bottomBtn.vue[m
[1m+++ b/src/components/bottomBtn.vue[m
[36m@@ -27,10 +27,8 @@[m [mexport default {[m
     }[m
   },[m
   methods: {[m
[31m-    [m
     clickService:function(){[m
[31m-        //this.$router.push("/");[m
[31m-        this.comm.msg("跳转客服")[m
[32m+[m[32m        this.forward.service();[m
     }[m
   },[m
   mounted(){[m
[1mdiff --git a/src/components/cButton.vue b/src/components/cButton.vue[m
[1mindex f4c075d..01eb98b 100644[m
[1m--- a/src/components/cButton.vue[m
[1m+++ b/src/components/cButton.vue[m
[36m@@ -1,6 +1,6 @@[m
 <template>[m
   <div class="btn_page" @click="onclick()">[m
[31m-    <div class="btn pointer" :class="[theme,size?size:'big',disable?theme==='dark'?'disabeld-btn-dark':'disabeld-btn-light':'',angle?'':'radius']">[m
[32m+[m[32m    <div class="btn pointer" :class="[theme,size?size:'big',disable?'disabeld-btn-'+theme:'',angle?'':'radius']">[m
       <slot></slot>[m
     </div>[m
   </div>[m
[36m@@ -60,15 +60,7 @@[m [mdisplay: inline-block;[m
   line-height: 20px;[m
   font-size: 14px;[m
 }[m
[31m-.disabeld-btn-light{[m
[31m-  border: 1px solid #D8D8D8!important;[m
[31m-  color:rgb(175, 175, 175)!important;[m
[31m-}[m
[31m-.disabeld-btn-dark{[m
[31m-  border: 1px solid #D8D8D8!important;[m
[31m-  background-color: #D8D8D8!important;[m
[31m-  color:rgb(161, 161, 161)!important;[m
[31m-}[m
[32m+[m
 .radius{[m
   border-radius: 25px;[m
 }[m
[36m@@ -85,4 +77,21 @@[m [mdisplay: inline-block;[m
   .light{[m
     color: #2CAD88;[m
   }[m
[32m+[m[32m  .light-no-border{[m
[32m+[m[32m    border: 1px solid transparent;[m
[32m+[m[32m    color: #2CAD88;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .disabeld-btn-light{[m
[32m+[m[32m  border: 1px solid #D8D8D8!important;[m
[32m+[m[32m  color:rgb(175, 175, 175)!important;[m
[32m+[m[32m}[m
[32m+[m[32m.disabeld-btn-dark{[m
[32m+[m[32m  border: 1px solid #D8D8D8!important;[m
[32m+[m[32m  background-color: #D8D8D8!important;[m
[32m+[m[32m  color:rgb(161, 161, 161)!important;[m
[32m+[m[32m}[m
[32m+[m[32m.disabeld-btn-light-no-border{[m
[32m+[m[32m  color:rgb(175, 175, 175)!important;[m
[32m+[m[32m}[m
 </style>[m
[1mdiff --git a/src/components/messager.vue b/src/components/messager.vue[m
[1mindex 84441e2..5d856f0 100644[m
[1m--- a/src/components/messager.vue[m
[1m+++ b/src/components/messager.vue[m
[36m@@ -22,7 +22,7 @@[m [mexport default {[m
   },[m
   methods: {[m
     goMsgPage:function(){[m
[31m-        this.$router.push("/");[m
[32m+[m[32m        this.forward.messageCenter();[m
     }[m
   },[m
   mounted(){[m
[1mdiff --git a/src/main.js b/src/main.js[m
[1mindex 034e1c0..5adb450 100644[m
[1m--- a/src/main.js[m
[1m+++ b/src/main.js[m
[36m@@ -12,6 +12,7 @@[m [mimport router from './router'[m
 import VueResource from 'vue-resource'[m
 import comm from './share/common'[m
 import cache from './share/cache';[m
[32m+[m[32mimport forward from './share/forward'[m
 // import validate from './share/validate'[m
 [m
 Vue.use(VueResource);[m
[36m@@ -31,6 +32,7 @@[m [mimport titleBar from './components/custom-components';[m
 Vue.prototype.cfg = cfg;[m
 Vue.prototype.cache = cache;[m
 Vue.prototype.comm = comm;[m
[32m+[m[32mVue.prototype.forward=forward;[m
 Vue.config.productionTip = false[m
 [m
 Vue.http.options.xhr = { withCredentials: true };[m
[1mdiff --git a/src/pages/Curriculum/BuyPopup.vue b/src/pages/Curriculum/BuyPopup.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..bc5d15b[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Curriculum/BuyPopup.vue[m
[36m@@ -0,0 +1,118 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="center">[m
[32m+[m[32m    <mt-popup v-model="visible" position="bottom" :closeOnClickModal="false" class="mint-popup mint-popup-4 mint-popup-bottom">[m
[32m+[m[32m        <div class="center relative tleft" style="height:337px;" :style="{width:comm.getClientWidth()+'px'}">[m
[32m+[m[32m            <div class="center relative titleBar">[m
[32m+[m[32m              购买[m
[32m+[m[32m              <i class="fa fa-times absolute" style="right:10px;top:8px;" @click="$emit('close')" aria-hidden="true"></i>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="notice tleft">[m
[32m+[m[32m              <span class="bold">温馨提示</span>：凡购买数量大于1时，将以兑换码形式发到您账户。可在「我的-兑换中心」兑换生成电子票，或赠送给他人兑换成电子票，参课信息及课程说明兑换时补充[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="price">[m
[32m+[m[32m              <div class="inline-block">电子票价</div>[m
[32m+[m[32m              <div style="float:right;">￥{{price.toFixed(2)}}/张</div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="choice">[m
[32m+[m[32m              <div>[m
[32m+[m[32m                选择数量[m
[32m+[m[32m              </div>[m
[32m+[m[32m              <div style="margin-top:10px;">[m
[32m+[m[32m                <div class="inline-block center radius choice-item" @click="onChoice(item)" :class="[choiceItem===item.id?'choice-item-select':'']"[m
[32m+[m[32m                  v-for="(item, index) in choice" :key="index">{{item.count}}[m
[32m+[m[32m                 </div>[m
[32m+[m[32m                 <div class="inline-block center radius choice-item" style="width:60px" @click="onCustom()" :class="[choiceItem===-1?'choice-item-select':'']">[m
[32m+[m[32m                   <input type="number" style="width:60px;border:none;" @blur="onCustomBlur()" v-model="customCount" placeholder="其他数量" oninput="if(value.length>6)value=value.slice(0,6)" class="center">[m
[32m+[m[32m                 </div>[m
[32m+[m[32m              </div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div class="price">[m
[32m+[m[32m              <div class="inline-block">合计</div>[m
[32m+[m[32m              <div style="float:right;color:#2CAD88">￥{{total.toFixed(2)}}</div>[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div style="width:100%;border-top:1px solid #e3e3e3;">[m
[32m+[m[32m              <c-button class="inline-block" theme="light-no-border" size="mid" :angle="true" @click.native="$emit('close')" style="width:49%;">取消</c-button>[m
[32m+[m[32m              <c-button class="inline-block" theme="dark"  size="mid" :angle="true" @click.native="onSubmit()" style="width:50%;">提交</c-button>[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m    </mt-popup>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32mimport regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'BuyPopup',[m
[32m+[m[32m    model:{[m
[32m+[m[32m      event:['close','submit'][m
[32m+[m[32m    },[m
[32m+[m[32m    props:{[m[41m [m
[32m+[m[32m        visible:Boolean,[m
[32m+[m[32m        price:Number,[m
[32m+[m[32m        id:String[m
[32m+[m[32m    },[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        customCount:"",[m
[32m+[m[32m        total:this.price*1,[m
[32m+[m[32m        choiceItem:1,[m
[32m+[m[32m        choice:[{id:1,count:1},{id:20,count:20},{id:50,count:50},{id:100,count:100}][m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      onSubmit:function(){[m
[32m+[m[32m        if(this.choiceItem===-1){[m
[32m+[m[32m          if(!regex.isPositiveInteger(this.customCount)){[m
[32m+[m[32m            this.comm.msg("请输入正整数");return;[m
[32m+[m[32m          }[m
[32m+[m[32m          if(Number(this.customCount)===0){[m
[32m+[m[32m            this.comm.msg("请输入大于0的数");return;[m
[32m+[m[32m          }[m
[32m+[m[32m          this.$emit('submit',Number(this.customCount));[m
[32m+[m[32m        }else{[m
[32m+[m[32m          this.$emit('submit',this.choice.find(o=>o.id===this.choiceItem).count);[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      onCustom:function(){[m
[32m+[m[32m        this.choiceItem=-1;[m
[32m+[m[32m      },[m
[32m+[m[32m      onCustomBlur:function(){[m
[32m+[m[32m        if(!regex.isPositiveInteger(this.customCount)){[m
[32m+[m[32m          this.comm.msg("请输入正整数");return;[m
[32m+[m[32m        }[m
[32m+[m[32m        if(Number(this.customCount)===0){[m
[32m+[m[32m          this.comm.msg("请输入大于0的数");return;[m
[32m+[m[32m        }[m
[32m+[m[32m        this.total=this.price*Number(this.customCount);[m
[32m+[m[32m      },[m
[32m+[m[32m      onChoice:function(item){[m
[32m+[m[32m        this.choiceItem = item.id;[m
[32m+[m[32m        this.total=this.price*item.count;[m
[32m+[m[32m      },[m
[32m+[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m.titleBar{[m
[32m+[m[32m  width:100%;border-bottom:1px solid #e3e3e3;height:35px;line-height:35px;font-size:16px;[m
[32m+[m[32m}[m
[32m+[m[32m.notice{[m
[32m+[m[32m  padding:5px 14px;font-size:12px;font-weight:500;color:rgba(255,98,43,1);line-height:18px;margin-top:5px;[m
[32m+[m[32m}[m
[32m+[m[32m.price{margin:14px 14px 0px;padding:0px 0px 14px;height:22px;text-align:left;font-size:16px;border-bottom:1px solid #e3e3e3;}[m
[32m+[m[32m.choice{font-size:16px;padding:14px;}[m
[32m+[m[32m.choice-item{[m
[32m+[m[32m  height:30px;;line-height:30px;width:54px;border:1px solid #e3e3e3;margin:0px 5px;color:#999;[m
[32m+[m[32m}[m
[32m+[m[32m.choice-item-select{[m
[32m+[m[32m  border:1px solid #2CAD88!important;[m
[32m+[m[32m  color:#2CAD88!important;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/Curriculum/Curriculum.vue b/src/pages/Curriculum/Curriculum.vue[m
[1mindex 04041ab..ca96c63 100644[m
[1m--- a/src/pages/Curriculum/Curriculum.vue[m
[1m+++ b/src/pages/Curriculum/Curriculum.vue[m
[36m@@ -105,25 +105,20 @@[m
     <div v-if="pageObj.type==='charge'" class="bottom-btn-palce"></div>[m
     <bottom-btn v-if="pageObj.type==='charge'" :fixed="true" :disable="false" title="购买"  v-on:click="onCharge()"></bottom-btn>[m
 [m
[31m-    <mt-popup v-model="showBuy" position="bottom" class="mint-popup mint-popup-4 mint-popup-bottom">[m
[31m-        <div class="center relative" style="height:300px;" :style="{width:comm.getClientWidth()+'px'}">[m
[31m-            <div style="width:100%;border-bottom:1px solid #e3e3e3;height:35px;line-height:35px;font-size:16px;" [m
[31m-            class="center relative">[m
[31m-              购买[m
[31m-              <i class="fa fa-times absolute" style="right:10px;top:8px;" @click="showBuy=false" aria-hidden="true"></i>[m
[31m-            </div>[m
[31m-        </div>[m
[31m-    </mt-popup>[m
[32m+[m[32m    <buy-popup :visible="showBuy" :price="parseFloat(`${pageObj.price}.${pageObj.price_decimal}`)" :id="pageObj.id"[m
[32m+[m[32m      v-on:close="showBuy=false" v-on:submit="onChoiceCount($event)">[m
[32m+[m[32m    </buy-popup>[m
   </div>[m
 </template>[m
 [m
 <script>[m
   import regex from '../../share/regex'[m
[32m+[m[32m  import BuyPopup from './BuyPopup'[m
   export default {[m
     name: 'Curriculum',[m
     data() {[m
       return {[m
[31m-        type:"agent",//custom客户 agent 时为代理商[m
[32m+[m[32m        type:this.$route.query.type,//custom客户 agent 时为代理商[m
         showBuy:false,[m
         selectId: 1,[m
         pageObj: {[m
[36m@@ -191,14 +186,25 @@[m
       }[m
     },[m
     methods: {[m
[32m+[m[32m      onChoiceCount:function(e){[m
[32m+[m[32m        // 请求服务器创建订单，跳转到支付页面[m
[32m+[m[32m        let f = this.forward.payment("12321","幸福能量","99.00",e);[m
[32m+[m[32m        if(f){[m
[32m+[m[32m          // 有错误信息[m
[32m+[m[32m          this.comm.msg(f)[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
       onCharge:function(){[m
[32m+[m[32m        // this.forward.login();[m
         this.showBuy=true;[m
       }[m
     },[m
     mounted() {[m
       console.log("query参数", this.$route.query)[m
     },[m
[31m-    components: {}[m
[32m+[m[32m    components: {[m
[32m+[m[32m      BuyPopup[m
[32m+[m[32m    }[m
   }[m
 [m
 </script>[m
[36m@@ -367,5 +373,6 @@[m
     font-weight: 400;[m
     line-height: 21px;[m
   }[m
[32m+[m[41m  [m
 [m
 </style>[m
[1mdiff --git a/src/pages/Curriculum/PayType.vue b/src/pages/Curriculum/PayType.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..4b7fc2c[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Curriculum/PayType.vue[m
[36m@@ -0,0 +1,105 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="tleft paytype">[m
[32m+[m[32m    <div class="title">[m
[32m+[m[32m      支付方式[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="choice">[m
[32m+[m[32m      <div class="choiceItem"  v-for="(item, index) in options" :key="index" @click="returnBackFn(item)">[m
[32m+[m[32m        <div class="inline-block">[m
[32m+[m[32m           <img :src="item.img" style="width:20px;height:20px;vertical-align: bottom;">[m
[32m+[m[32m          {{item.label}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        <div class="choiceStatus" style="float:right;">[m
[32m+[m[32m          <img v-if="item.value===value" src="../../assets/imgs/xuanzhong@2x.png" class="fullSize">[m
[32m+[m[32m          <img v-if="item.value!==value" src="../../assets/imgs/weixuanzhong@2x.png" class="fullSize">[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="desc">[m
[32m+[m[32m          {{item.desc}}[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'PayType',[m
[32m+[m[32m    props: {[m
[32m+[m[32m      value: String,[m
[32m+[m[32m    },[m
[32m+[m[32m    model: {[m
[32m+[m[32m      prop: 'value',[m
[32m+[m[32m      event: 'returnBack'[m
[32m+[m[32m    },[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        //value: "weixin",[m
[32m+[m[32m        options: [{[m
[32m+[m[32m            label: '微信支付',[m
[32m+[m[32m            value: 'weixin',[m
[32m+[m[32m            img:"static/image/weixinzhifu@2x.png"[m
[32m+[m[32m          },[m
[32m+[m[32m          {[m
[32m+[m[32m            label: '银联支付',[m
[32m+[m[32m            value: 'unionpay',[m
[32m+[m[32m            img:"static/image/yinlianzhifu@2x.png"[m
[32m+[m[32m          },[m
[32m+[m[32m          {[m
[32m+[m[32m            label: '对公转账',[m
[32m+[m[32m            value: 'transfer',[m
[32m+[m[32m            img:"static/image/duigongzhuanzhang@2x.png",[m
[32m+[m[32m            desc:"对公转账需要在转账后上传付款凭证"[m
[32m+[m[32m          }[m
[32m+[m[32m        ][m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      returnBackFn(item) {[m[41m  [m
[32m+[m[32m        // this.value=item.value;[m
[32m+[m[32m        this.$emit('returnBack', item.value);[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {},[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m.paytype{[m
[32m+[m[32m  padding:14px;[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m}[m
[32m+[m[32m.title{[m
[32m+[m[32m  border-bottom: 1px solid #efefef;[m
[32m+[m[32m  padding:5px;[m
[32m+[m[32m  height:22px;[m
[32m+[m[32mfont-size:16px;[m
[32m+[m[32mfont-weight:600;[m
[32m+[m[32mcolor:rgba(51,51,51,1);[m
[32m+[m[32mline-height:22px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m.choice{[m
[32m+[m[32mpadding:5px;[m
[32m+[m[32m}[m
[32m+[m[32m.choice .choiceItem{[m
[32m+[m[32m  padding: 10px 0px;[m
[32m+[m[41m  [m
[32m+[m[32mfont-size:16px;[m
[32m+[m[32mfont-weight:400;[m
[32m+[m[32mcolor:rgba(51,51,51,1);[m
[32m+[m[32mline-height:22px;[m
[32m+[m[32mborder-bottom:1px solid #efefef;[m
[32m+[m[32m}[m
[32m+[m[32m.choice .choiceItem .desc{[m
[32m+[m[32m  font-size: 12px;[m
[32m+[m[32m  color:#999;[m
[32m+[m[32m}[m
[32m+[m[32m.choice .choiceItem .choiceStatus{[m
[32m+[m[32m  width: 20px;[m
[32m+[m[32m  height: 20px;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/Curriculum/Payment.vue b/src/pages/Curriculum/Payment.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..df21a1f[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Curriculum/Payment.vue[m
[36m@@ -0,0 +1,190 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="center" style="background-color:rgb(251, 251, 251);">[m
[32m+[m[32m    <div v-show="!showResult">[m
[32m+[m[32m      <pay-type v-model="checked"></pay-type>[m
[32m+[m[32m      <div class="transeInfo tleft" v-if="checked==='transfer'">[m
[32m+[m[32m        <div class="title">[m
[32m+[m[32m          汇款信息如下:[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="transeDetail">[m
[32m+[m[32m          <div>账号名：北京慧宇智业教育科技有限公司</div>[m
[32m+[m[32m          <div>开户银行：中国建设银行股份有限公司北京财满街支行</div>[m
[32m+[m[32m          <div>地址：北京市朝阳区朝阳路85号院4号楼4A57室</div>[m
[32m+[m[32m          <div>账号：11050172790000000525</div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="title">[m
[32m+[m[32m          汇款凭证上传:[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="transeDetail center">[m
[32m+[m[32m          <div class="upload">[m
[32m+[m[32m            <img src="../../assets/imgs/shangchuan@2x.png" style="margin-top:20px;">[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="payInfo tleft">[m
[32m+[m[32m        <div class="title bold" style="border-bottom:1px solid #efefef;padding-left:0px;">[m
[32m+[m[32m          支付明细[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="payInfoDetail">[m
[32m+[m[32m          <div class="inline-block">课程名称</div>[m
[32m+[m[32m          <div style="float:right;">[m
[32m+[m[32m            {{curriculumInfo.name}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="payInfoDetail">[m
[32m+[m[32m          <div class="inline-block">课程票价</div>[m
[32m+[m[32m          <div style="float:right;">[m
[32m+[m[32m            ￥{{parseFloat(curriculumInfo.price).toFixed(2)}}/张[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="payInfoDetail">[m
[32m+[m[32m          <div class="inline-block">课程票数</div>[m
[32m+[m[32m          <div style="float:right;">[m
[32m+[m[32m            x{{curriculumInfo.count}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="payInfoDetail">[m
[32m+[m[32m          <div class="inline-block">支付金额</div>[m
[32m+[m[32m          <div style="float:right;">[m
[32m+[m[32m            ￥{{parseFloat(curriculumInfo.price*curriculumInfo.count).toFixed(2)}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="bottom-btn-palce" style="background-color:white;"></div>[m
[32m+[m[32m      <bottom-btn :fixed="true" :disable="false" title="确认并支付" v-on:click="charge()"></bottom-btn>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div v-show="showResult">[m
[32m+[m[32m        <!-- 操作成功 -->[m
[32m+[m[32m        <!-- <result-page image="zhfuchneggong_qs@2x.png" title="操作成功" sub-title="¥1000.00" desc="参课信息已通过短信告知了Ta，请提醒本人携带好证件准时参课">[m
[32m+[m[32m          <div slot="btn">[m
[32m+[m[32m            <c-button  theme="light"  v-on:click="buyMore()" size="small" style="margin-right:20px;">继续购买</c-button>[m
[32m+[m[32m            <c-button  theme="dark" v-on:click="coinCertificate()"  size="small">查看兑换券</c-button>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </result-page> -->[m
[32m+[m[32m        <!-- 转账结果显示 -->[m
[32m+[m[32m        <!-- <result-page image="shenhe_qs@2x.png" title="提交成功" sub-title="" desc="等待财务确认审核款项，预计1-3个工作日， 结果将以短信形式通知">[m
[32m+[m[32m          <div slot="btn">[m
[32m+[m[32m            <c-button  theme="light" v-on:click="contact()"  size="small" style="margin-right:20px;">联系客服</c-button>[m
[32m+[m[32m            <c-button  theme="dark"  v-on:click="buyMore()" size="small" >继续购买</c-button>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </result-page> -->[m
[32m+[m[32m        <!-- 支付失败 -->[m
[32m+[m[32m        <result-page image="zhifushibai_qs@2x.png" title="支付失败" sub-title="" desc="订单将于24:00:00后自动取消，请及时支付">[m
[32m+[m[32m          <div slot="btn">[m
[32m+[m[32m            <c-button  theme="light" v-on:click="goWaitPay()"  size="small" style="margin-right:20px;">稍后支付</c-button>[m
[32m+[m[32m            <c-button  theme="dark"  v-on:click="payAgin()" size="small" >重新支付</c-button>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </result-page>[m
[32m+[m[41m        [m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  import PayType from './PayType'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'Payment',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m          showResult:false,[m
[32m+[m[32m        checked: "weixin",[m
[32m+[m[32m        curriculumInfo: {[m
[32m+[m[32m          name: this.$route.query.name,[m
[32m+[m[32m          order: this.$route.query.order,[m
[32m+[m[32m          price: this.$route.query.price,[m
[32m+[m[32m          count: this.$route.query.count[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      charge: function () {[m
[32m+[m[32m        //提交支付并显示支付结果[m
[32m+[m[32m        if(this.checked==='transfer'){[m
[32m+[m[32m            //检查是否上传了转账凭证[m
[32m+[m[32m        }[m
[32m+[m[32m        this.showResult=true;[m
[32m+[m[32m      },[m
[32m+[m[32m      buyMore:function(){[m
[32m+[m[32m          this.forward.curriculum(1123,'custom');// 跳转到经营详情[m
[32m+[m[32m      },[m
[32m+[m[32m      coinCertificate:function(){[m
[32m+[m[32m          this.forward.coinCertificate(1);// 跳转到兑换券[m
[32m+[m[32m      },[m
[32m+[m[32m      contact:function(){[m
[32m+[m[32m          this.forward.service();[m
[32m+[m[32m      },[m
[32m+[m[32m      goWaitPay:function(){[m
[32m+[m[32m          this.forward.order(2);// 跳转到订单页面[m
[32m+[m[32m      },[m
[32m+[m[32m        payAgin:function(){[m
[32m+[m[32m            //重新支付[m
[32m+[m[32m            //this.forward.payment(this.curriculumInfo.order,this.curriculumInfo.name,this.curriculumInfo.price,this.curriculumInfo.count);[m
[32m+[m[32m            this.$router.go(0)[m
[32m+[m[32m            //this.showResult=false;[m
[32m+[m[32m        }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m      console.log("query参数", this.$route.query);[m
[32m+[m[32m      // TODO 查询订单状态是否可以支付[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {[m
[32m+[m[32m      PayType[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .payInfo {[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    margin: 0px 14px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .payInfo .payInfoDetail {[m
[32m+[m[32m    height: 20px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: #666666;[m
[32m+[m[32m    line-height: 20px;[m
[32m+[m[32m    padding: 5px 0px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .transeInfo {[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .title {[m
[32m+[m[32m    height: 22px;[m
[32m+[m[32m    font-size: 16px;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 22px;[m
[32m+[m[32m    margin-top: 10px;[m
[32m+[m[32m    padding: 5px 14px;[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .transeDetail {[m
[32m+[m[32m    padding: 5px 14px;[m
[32m+[m[32m    font-size: 12px;[m
[32m+[m[32m    font-family: PingFangSC-Regular;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(102, 102, 102, 1);[m
[32m+[m[32m    line-height: 17px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .transeDetail>div {[m
[32m+[m[32m    margin-bottom: 5px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .transeDetail .upload {[m
[32m+[m[32m    border: 1px dashed #e3e3e3;[m
[32m+[m[32m    width: 60%;[m
[32m+[m[32m    height: 100px;[m
[32m+[m[32m    margin: 0px auto;[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/Curriculum/Payment/paymentConfirmation.vue b/src/pages/Curriculum/Payment/paymentConfirmation.vue[m
[1mdeleted file mode 100644[m
[1mindex ea4c134..0000000[m
[1m--- a/src/pages/Curriculum/Payment/paymentConfirmation.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        支付确认[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/Payment/paymentFailure.vue b/src/pages/Curriculum/Payment/paymentFailure.vue[m
[1mdeleted file mode 100644[m
[1mindex 53dc3c6..0000000[m
[1m--- a/src/pages/Curriculum/Payment/paymentFailure.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        支付失败[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/Payment/paymentSuccess.vue b/src/pages/Curriculum/Payment/paymentSuccess.vue[m
[1mdeleted file mode 100644[m
[1mindex 175e084..0000000[m
[1m--- a/src/pages/Curriculum/Payment/paymentSuccess.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        支付成功[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/managementAgent.vue b/src/pages/Curriculum/managementAgent.vue[m
[1mdeleted file mode 100644[m
[1mindex 4ba8f6f..0000000[m
[1m--- a/src/pages/Curriculum/managementAgent.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        经营代理商[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/managementPayment.vue b/src/pages/Curriculum/managementPayment.vue[m
[1mdeleted file mode 100644[m
[1mindex 850c041..0000000[m
[1m--- a/src/pages/Curriculum/managementPayment.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-   <div>[m
[31m-        经营支付[m
[31m-   </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/managementPurchase.vue b/src/pages/Curriculum/managementPurchase.vue[m
[1mdeleted file mode 100644[m
[1mindex 43347f3..0000000[m
[1m--- a/src/pages/Curriculum/managementPurchase.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        经营购买[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/managementRightPublic.vue b/src/pages/Curriculum/managementRightPublic.vue[m
[1mdeleted file mode 100644[m
[1mindex ff12103..0000000[m
[1m--- a/src/pages/Curriculum/managementRightPublic.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        经营对公[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Curriculum/routeMap.vue b/src/pages/Curriculum/routeMap.vue[m
[1mdeleted file mode 100644[m
[1mindex 693da41..0000000[m
[1m--- a/src/pages/Curriculum/routeMap.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        路线[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/router/sub-index.js b/src/router/sub-index.js[m
[1mindex 556200e..e21cb21 100644[m
[1m--- a/src/router/sub-index.js[m
[1m+++ b/src/router/sub-index.js[m
[36m@@ -18,5 +18,10 @@[m [mexport default [[m
         name: 'Curriculum',[m
         component: resolve => require(['@/pages/Curriculum/Curriculum'],resolve),[m
       },[m
[31m-      [m
[32m+[m[32m      // 能量支付页面[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/Payment',[m
[32m+[m[32m        name: 'Payment',[m
[32m+[m[32m        component: resolve => require(['@/pages/Curriculum/Payment'],resolve),[m
[32m+[m[32m      },[m
     ] [m
\ No newline at end of file[m
[1mdiff --git a/src/share/common.js b/src/share/common.js[m
[1mindex 817930b..b49ac3c 100644[m
[1m--- a/src/share/common.js[m
[1m+++ b/src/share/common.js[m
[36m@@ -49,7 +49,8 @@[m [mexport default{[m
     // 提示信息[m
     msg:txt=>{[m
         Toast({[m
[31m-            message: txt[m
[32m+[m[32m            message: txt,[m
[32m+[m[32m            // duration:-1[m
         })[m
     },[m
     //[m
[1mdiff --git a/src/share/forward.js b/src/share/forward.js[m
[1mnew file mode 100644[m
[1mindex 0000000..a3fb398[m
[1m--- /dev/null[m
[1m+++ b/src/share/forward.js[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32m'use strict'[m
[32m+[m[32mimport router from '../router';[m
[32m+[m[32mimport { Toast   } from 'mint-ui';[m
[32m+[m[32mimport comm from './common'[m
[32m+[m[32mlet noDev = function(){[m
[32m+[m[32m    Toast({message: "功能开发中"});[m
[32m+[m[32m}[m
[32m+[m[32mexport default {[m
[32m+[m[32m    index:()=>{[m
[32m+[m[32m        router.push("/");[m
[32m+[m[32m    },[m
[32m+[m[32m    // 登陆页面[m
[32m+[m[32m    login:()=>{[m
[32m+[m[32m        router.push("/login");[m
[32m+[m[32m    },[m
[32m+[m[32m    // 客服页面[m
[32m+[m[32m    service:()=>{[m
[32m+[m[32m        noDev();[m
[32m+[m[32m    },[m
[32m+[m[32m    // 消息中心[m
[32m+[m[32m    messageCenter:()=>{[m
[32m+[m[32m        noDev();[m
[32m+[m[32m    },[m
[32m+[m[32m    // 能量详情（经营,代理商）,type=custom|agent 进入代理商视图、普通用户视图，id为能量的ID，用于获取显示内容[m
[32m+[m[32m    curriculum:(id,type)=>{[m
[32m+[m[32m        if(!id)return "课程id不能为空";[m
[32m+[m[32m        type = type?type:"custom";[m
[32m+[m[32m        router.push(`/Curriculum?type=${type}&id=${id}`);[m
[32m+[m[32m    },[m
[32m+[m[32m    // 支付页面,order订单号，课程名，票价单价，数量[m
[32m+[m[32m    payment:(order,name,price,count)=>{[m
[32m+[m[32m        if(!order)return "订单号为空";[m
[32m+[m[32m        if(!name)return "课程名为空";[m
[32m+[m[32m        if(!price)return "票价为空";[m
[32m+[m[32m        if(!count)return "数量为空";[m
[32m+[m[32m        router.push(`/Payment?order=${order}&name=${name}&price=${price}&count=${count}`);[m
[32m+[m[32m    },[m
[32m+[m[32m    // 兑换券页面 type 1未使用，2已送出，3已使用[m
[32m+[m[32m    coinCertificate:(type)=>{[m
[32m+[m[32m        noDev();[m
[32m+[m[32m    },[m
[32m+[m[32m    // 订单管理列表,type 1 待审核、2付款、3、待签到、4待确认、5已完成[m
[32m+[m[32m    order:(type)=>{[m
[32m+[m[32m        noDev();[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/static/image/duigongzhuanzhang@2x.png b/static/image/duigongzhuanzhang@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..34adb1c[m
Binary files /dev/null and b/static/image/duigongzhuanzhang@2x.png differ
[1mdiff --git a/static/image/shenhe_qs@2x.png b/static/image/shenhe_qs@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..64fa098[m
Binary files /dev/null and b/static/image/shenhe_qs@2x.png differ
[1mdiff --git a/static/image/weixinzhifu@2x.png b/static/image/weixinzhifu@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e7cbc3d[m
Binary files /dev/null and b/static/image/weixinzhifu@2x.png differ
[1mdiff --git a/static/image/yinlianzhifu@2x.png b/static/image/yinlianzhifu@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..2e74c10[m
Binary files /dev/null and b/static/image/yinlianzhifu@2x.png differ
[1mdiff --git a/static/image/zhifushibai_qs@2x.png b/static/image/zhifushibai_qs@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..496c998[m
Binary files /dev/null and b/static/image/zhifushibai_qs@2x.png differ

[33mcommit 8015f96c68f40808078b8930d9a186b12e3c5d1a[m
Author: gtjyj <190316516@qq.com>
Date:   Sun Jan 6 01:54:27 2019 +0800

    经营详情页面

[1mdiff --git a/src/assets/css/share.css b/src/assets/css/share.css[m
[1mindex d2b9fbd..8ad6cc6 100644[m
[1m--- a/src/assets/css/share.css[m
[1m+++ b/src/assets/css/share.css[m
[36m@@ -55,4 +55,10 @@[m
 .padding{[m
     padding: 0 14px;[m
     box-sizing: border-box;[m
[31m-}[m
\ No newline at end of file[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.floatLeft{float: left!important;}[m
[32m+[m[32m.floatRight{float: left!important;}[m
[32m+[m[32m.fullSize{width: 100%;height: 100%;}[m
[32m+[m[32m.radius{border-radius: 10px;}[m
[32m+[m[32m.bottom-btn-palce{height: 50px;width: 100%;}[m
\ No newline at end of file[m
[1mdiff --git a/src/assets/imgs/erweima@2x.png b/src/assets/imgs/erweima@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a4381b1[m
Binary files /dev/null and b/src/assets/imgs/erweima@2x.png differ
[1mdiff --git a/src/assets/imgs/tupian@2x.png b/src/assets/imgs/tupian@2x.png[m
[1mnew file mode 100644[m
[1mindex 0000000..11649ca[m
Binary files /dev/null and b/src/assets/imgs/tupian@2x.png differ
[1mdiff --git a/src/pages/Curriculum/Curriculum.vue b/src/pages/Curriculum/Curriculum.vue[m
[1mnew file mode 100644[m
[1mindex 0000000..04041ab[m
[1m--- /dev/null[m
[1m+++ b/src/pages/Curriculum/Curriculum.vue[m
[36m@@ -0,0 +1,371 @@[m
[32m+[m[32m<template>[m
[32m+[m[32m  <div class="center">[m
[32m+[m[32m    <div class="head-img">[m
[32m+[m[32m      <img :src="pageObj.coverImg">[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="title-price">[m
[32m+[m[32m      <div class="title inline-block">{{pageObj.title}}</div>[m
[32m+[m[32m      <div class="price inline-block"  v-if="pageObj.type==='charge'">￥<span>{{pageObj.price}}</span>.{{pageObj.price_decimal}}/张</div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="agent radius tleft relative"  v-if="type==='agent'">[m
[32m+[m[32m      <div style="transform:rotate(180deg);0px;width:0; height:0; border-width:10px; position:absolute;top:-20px;left:30px;border-left: 7px solid transparent;border-right: 7px solid transparent;border-style:solid; border-color:#efefef transparent transparent; font-size:0; line-height:0;"></div>[m
[32m+[m[32m      <div class="inline-block tleft" >[m
[32m+[m[32m        <div style="font-weight:600;color:rgba(51,51,51,1);font-size:16px;">[m
[32m+[m[32m          推广服务工具[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div style="color:rgba(102,102,102,1);font-size:12px;">[m
[32m+[m[32m          生成专属二维码或海报分享给您的客户购票[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="inline-block" style="margin-left:20px;">[m[41m [m
[32m+[m[32m        <div class="inline-block center">[m
[32m+[m[32m         <div> <img src="../../assets/imgs/tupian@2x.png" style="width:20px;height:20px;"></div>[m
[32m+[m[32m          <div>海报</div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="inline-block center">[m
[32m+[m[32m          <div> <img src="../../assets/imgs/erweima@2x.png" style="width:20px;height:20px;"></div>[m
[32m+[m[32m          <div>二维码</div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="addr" v-for="item in pageObj.address" :key="item.id">[m
[32m+[m[32m      <div class="title" @click="selectId=item.id">[m
[32m+[m[32m        {{item.term}} | {{item.type}}[m
[32m+[m[32m        <div class="coll">[m
[32m+[m[32m          {{item.city}} <i class="fa" :class="[item.id===selectId?'fa-chevron-down':'fa-chevron-up']" aria-hidden="true"></i>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="info" v-show="selectId===item.id">[m
[32m+[m[32m        <div class="info-row">[m
[32m+[m[32m          <div class="label">[m
[32m+[m[32m            课程地点：[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div class="text tleft">[m
[32m+[m[32m            <div class="inline-block" style="width:230px;">[m
[32m+[m[32m              {{item.addr}}[m
[32m+[m[32m            </div>[m
[32m+[m[32m            <div v-if="item.lng && item.lat" style="float:right;color:#2CAD88;" @click="comm.msg('线路开发中')">[m
[32m+[m[32m              线路[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="info-row">[m
[32m+[m[32m          <div class="label">[m
[32m+[m[32m            开课时间：[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div class="text tleft">[m
[32m+[m[32m            {{item.time}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="info-row">[m
[32m+[m[32m          <div class="label">[m
[32m+[m[32m            签到地点：[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div class="text tleft">[m
[32m+[m[32m            {{item.signAddr}}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="info-row">[m
[32m+[m[32m          <div class="label">[m
[32m+[m[32m            签到时间：[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div class="text tleft">[m
[32m+[m[32m            <div v-for="t in item.signTime" :key="t">[m
[32m+[m[32m              {{ t }}[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="teach" v-if="type==='custom'">[m
[32m+[m[32m      <div class="title">[m
[32m+[m[32m        课程讲师[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="teachers">[m
[32m+[m[32m        <div class="teacher" v-for="(item, index) in pageObj.teachers" :key="index">[m
[32m+[m[32m          <img class="radius" :src="item.img">[m
[32m+[m[32m          <div style="font-size:16px;">{{item.name}}</div>[m
[32m+[m[32m          <div style="font-size:12px;color:rgba(153,153,153,1);">{{item.desc}}</div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div class="teach" v-if="type==='custom'">[m
[32m+[m[32m      <div class="title">[m
[32m+[m[32m        课程介绍[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="curriculum">[m
[32m+[m[32m        <div class="img">[m
[32m+[m[32m          <img class="fullSize radius" :src="pageObj.introduce.img">[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="desc">[m
[32m+[m[32m          {{pageObj.introduce.desc}}[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <div v-if="pageObj.type==='charge'" class="bottom-btn-palce"></div>[m
[32m+[m[32m    <bottom-btn v-if="pageObj.type==='charge'" :fixed="true" :disable="false" title="购买"  v-on:click="onCharge()"></bottom-btn>[m
[32m+[m
[32m+[m[32m    <mt-popup v-model="showBuy" position="bottom" class="mint-popup mint-popup-4 mint-popup-bottom">[m
[32m+[m[32m        <div class="center relative" style="height:300px;" :style="{width:comm.getClientWidth()+'px'}">[m
[32m+[m[32m            <div style="width:100%;border-bottom:1px solid #e3e3e3;height:35px;line-height:35px;font-size:16px;"[m[41m [m
[32m+[m[32m            class="center relative">[m
[32m+[m[32m              购买[m
[32m+[m[32m              <i class="fa fa-times absolute" style="right:10px;top:8px;" @click="showBuy=false" aria-hidden="true"></i>[m
[32m+[m[32m            </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m    </mt-popup>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'Curriculum',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        type:"agent",//custom客户 agent 时为代理商[m
[32m+[m[32m        showBuy:false,[m
[32m+[m[32m        selectId: 1,[m
[32m+[m[32m        pageObj: {[m
[32m+[m[32m          coverImg: "static/tempImg/curriculum.png", //后期显示base64[m
[32m+[m[32m          title: "幸福能量",[m
[32m+[m[32m          type:"charge",// free、charge[m
[32m+[m[32m          price: "99",[m
[32m+[m[32m          price_decimal: "00",[m
[32m+[m[32m          address: [{[m
[32m+[m[32m              id: 1,[m
[32m+[m[32m              term: "第三十一期",[m
[32m+[m[32m              type: "新训",[m
[32m+[m[32m              city: "北京",[m
[32m+[m[32m              addr: "北京市高碑店北京市高碑店北京市高碑店北京市高碑店北京市高碑店",[m
[32m+[m[32m              lng: "5454.1212",[m
[32m+[m[32m              lat: "212.212",[m
[32m+[m[32m              time: "2019-01-23 08:00 至 2019-01-24 20:00",[m
[32m+[m[32m              signAddr: "北京市高碑店长城酒店2楼会议厅",[m
[32m+[m[32m              signTime: ["2019-01-23 08:00 至 2019-01-23 9:00", "2019-01-24 19:00 至 2019-01-24 20:00"][m
[32m+[m[32m            },[m
[32m+[m[32m            {[m
[32m+[m[32m              id: 2,[m
[32m+[m[32m              term: "第三十一期",[m
[32m+[m[32m              type: "新训",[m
[32m+[m[32m              city: "上海",[m
[32m+[m[32m              addr: "北京市高碑店北京市高碑店北京市高碑店北京市高碑店北京市高碑店",[m
[32m+[m[32m              lng: "",[m
[32m+[m[32m              lat: "",[m
[32m+[m[32m              time: "2019-01-23 08:00 至 2019-01-24 20:00",[m
[32m+[m[32m              signAddr: "北京市高碑店长城酒店2楼会议厅",[m
[32m+[m[32m              signTime: ["2019-01-23 08:00 至 2019-01-23 9:00", "2019-01-24 19:00 至 2019-01-24 20:00"][m
[32m+[m[32m            }[m
[32m+[m[32m          ],[m
[32m+[m[32m          teachers: [{[m
[32m+[m[32m              name: "王坤",[m
[32m+[m[32m              img: "static/tempImg/head.png",[m
[32m+[m[32m              desc: "家庭教育终身家庭教育终身家庭教育终身"[m
[32m+[m[32m            },[m
[32m+[m[32m            {[m
[32m+[m[32m              name: "王坤",[m
[32m+[m[32m              img: "static/tempImg/head.png",[m
[32m+[m[32m              desc: "家庭教育终身家庭教育终身家庭教育终身"[m
[32m+[m[32m            },[m
[32m+[m[32m            {[m
[32m+[m[32m              name: "王坤",[m
[32m+[m[32m              img: "static/tempImg/head.png",[m
[32m+[m[32m              desc: "家庭教育终身家庭教育终身家庭教育终身"[m
[32m+[m[32m            },[m
[32m+[m[32m            {[m
[32m+[m[32m              name: "王坤",[m
[32m+[m[32m              img: "static/tempImg/head.png",[m
[32m+[m[32m              desc: "家庭教育终身家庭教育终身家庭教育终身"[m
[32m+[m[32m            },[m
[32m+[m[32m            {[m
[32m+[m[32m              name: "王坤",[m
[32m+[m[32m              img: "static/tempImg/head.png",[m
[32m+[m[32m              desc: "家庭教育终身家庭教育终身家庭教育终身"[m
[32m+[m[32m            }[m
[32m+[m[32m          ],[m
[32m+[m[32m          introduce: {[m
[32m+[m[32m            img: "static/tempImg/curriculum.png",[m
[32m+[m[32m            desc: "讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍讲师。讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍讲师介绍！"[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      onCharge:function(){[m
[32m+[m[32m        this.showBuy=true;[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m      console.log("query参数", this.$route.query)[m
[32m+[m[32m    },[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .head-img {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    height: 200px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .head-img>img {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .title-price {[m
[32m+[m[32m    padding: 11px 14px 50px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .title-price .title {[m
[32m+[m[32m    float: left;[m
[32m+[m[32m    height: 28px;[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    font-family: PingFangSC-Medium;[m
[32m+[m[32m    font-weight: 600;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 28px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .title-price .price {[m
[32m+[m[32m    float: right;[m
[32m+[m[32m    height: 30px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-family: PingFangSC-Medium;[m
[32m+[m[32m    font-weight: 500;[m
[32m+[m[32m    color: rgba(44, 173, 136, 1);[m
[32m+[m[32m    line-height: 30px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .title-price .price>span {[m
[32m+[m[32m    font-size: 22px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .agent{[m
[32m+[m[32m    background:rgb(240, 240, 240);[m
[32m+[m[32m    margin:0px 14px 30px;[m
[32m+[m[32m    padding:10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr {[m
[32m+[m[32m    padding: 0 14px;[m
[32m+[m[32m    margin-bottom: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .title {[m
[32m+[m[32m    text-align: left;[m
[32m+[m[32m    height: 20px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-family: PingFangSC-Regular;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 20px;[m
[32m+[m[32m    border-bottom: 1px solid #e3e3e3;[m
[32m+[m[32m    padding-bottom: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .title .coll {[m
[32m+[m[32m    float: right;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .info {[m
[32m+[m
[32m+[m[32m    padding-top: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .info .info-row {[m
[32m+[m[32m    margin: 5px auto;[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .info .label {[m
[32m+[m[32m    width: 70px;[m
[32m+[m[32m    float: left;[m
[32m+[m[32m    height: 20px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(153, 153, 153, 1);[m
[32m+[m[32m    line-height: 20px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .addr .info .text {[m
[32m+[m[32m    width: 260px;[m
[32m+[m[32m    float: left;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(102, 102, 102, 1);[m
[32m+[m[32m    line-height: 21px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach {[m
[32m+[m[32m    text-align: left;[m
[32m+[m[32m    padding: 10px 14px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .title {[m
[32m+[m[32m    border-left: 3px solid #2CAD88;[m
[32m+[m[32m    padding-left: 10px;[m
[32m+[m[32m    height: 22px;[m
[32m+[m[32m    font-size: 16px;[m
[32m+[m[32m    font-weight: 500;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 22px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .teachers {[m
[32m+[m[32m    margin: 10px 0px;[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    overflow-x: scroll;[m
[32m+[m[32m    display: -webkit-box;[m
[32m+[m[32m    white-space: nowrap;[m
[32m+[m[32m    /* ::-webkit-scrollbar{[m
[32m+[m[32m          display:none;[m
[32m+[m[32m        }  */[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .teachers::-webkit-scrollbar {[m
[32m+[m[32m    width: 0;[m
[32m+[m[32m    height: 0;[m
[32m+[m[32m    display: none;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .teachers .teacher {[m
[32m+[m[32m    float: none;[m
[32m+[m[32m    margin-right: 14px;[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    width: 90px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .teachers .teacher>img {[m
[32m+[m[32m    width: 90px;[m
[32m+[m[32m    height: 90px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .teachers .teacher>div {[m
[32m+[m[32m    overflow: hidden;[m
[32m+[m[32m    text-overflow: ellipsis;[m
[32m+[m[32m    white-space: nowrap;[m
[32m+[m[32m    width: 95%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .curriculum {[m
[32m+[m[32m    padding-top: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .curriculum .img {[m
[32m+[m[32m    width: 347px;[m
[32m+[m[32m    height: 186px;[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .teach .curriculum .desc {[m
[32m+[m[32m    padding-top: 10px;[m
[32m+[m[32m    color: #666;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    line-height: 21px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/Curriculum/management.vue b/src/pages/Curriculum/management.vue[m
[1mdeleted file mode 100644[m
[1mindex 5454ba5..0000000[m
[1m--- a/src/pages/Curriculum/management.vue[m
[1m+++ /dev/null[m
[36m@@ -1,5 +0,0 @@[m
[31m-<template>[m
[31m-    <div>[m
[31m-        经营/非经营[m
[31m-    </div>[m
[31m-</template>[m
[1mdiff --git a/src/pages/Jyj/HelloWorld.vue b/src/pages/Jyj/HelloWorld.vue[m
[1mindex 4bf7334..47cfc4c 100644[m
[1m--- a/src/pages/Jyj/HelloWorld.vue[m
[1m+++ b/src/pages/Jyj/HelloWorld.vue[m
[36m@@ -79,8 +79,10 @@[m
 [m
 [m
       <!-- 左侧联系客服，右侧为按钮，支持fixed固定底部，禁用右侧按钮，标题，点击事件[m
[31m-        当fixed为true时，底部设置padding-bottom：大于等于50px。否则会遮挡[m
[32m+[m[32m        当fixed为true时，加一个class为bottom-btn-palce的div否则会遮挡[m
[32m+[m[41m        [m
        -->[m
[32m+[m[32m      <div class="bottom-btn-palce"></div>[m
       <bottom-btn :fixed="true" :disable="false" title="提交订单"  v-on:click="onclick()"></bottom-btn>[m
        [m
        <!-- 首页tabbar，直接复制过去就可以用，selected就是选中的item的id -->[m
[1mdiff --git a/src/router/sub-index.js b/src/router/sub-index.js[m
[1mindex 7124fc0..556200e 100644[m
[1m--- a/src/router/sub-index.js[m
[1m+++ b/src/router/sub-index.js[m
[36m@@ -1,13 +1,22 @@[m
 [m
 export default [[m
[32m+[m[32m      // 绑定手机号码[m
       {[m
         path: '/BindCellPhone',[m
         name: 'BindCellPhone',[m
         component: resolve => require(['@/pages/login/bindCellPhone'],resolve),[m
       },[m
[32m+[m[32m      //绑定手机接收验证码[m
       {[m
         path: '/VerificationCode',[m
         name: 'VerificationCode',[m
         component: resolve => require(['@/pages/login/VerificationCode'],resolve),[m
[31m-      }[m
[32m+[m[32m      },[m
[32m+[m[32m      //经营能量/非经营能量[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/Curriculum',[m
[32m+[m[32m        name: 'Curriculum',[m
[32m+[m[32m        component: resolve => require(['@/pages/Curriculum/Curriculum'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[41m      [m
     ] [m
\ No newline at end of file[m
[1mdiff --git a/static/tempImg/curriculum.png b/static/tempImg/curriculum.png[m
[1mnew file mode 100644[m
[1mindex 0000000..6a44d66[m
Binary files /dev/null and b/static/tempImg/curriculum.png differ
[1mdiff --git a/static/tempImg/head.png b/static/tempImg/head.png[m
[1mnew file mode 100644[m
[1mindex 0000000..23fff31[m
Binary files /dev/null and b/static/tempImg/head.png differ

[33mcommit 33a214033799b141695097031e235351adafdc12[m
Merge: f61adcc 4aedec5
Author: gtjyj <190316516@qq.com>
Date:   Sat Jan 5 23:09:46 2019 +0800

    Merge branch 'master' of https://github.com/Ypillar/HuiYu

[33mcommit f61adcc3044da84b63ea62593d9616abb55f5a07[m
Author: gtjyj <190316516@qq.com>
Date:   Sat Jan 5 15:57:10 2019 +0800

    緩存内使用方式變更

[1mdiff --git a/src/pages/Login/bindCellphone.vue b/src/pages/Login/bindCellphone.vue[m
[1mindex 6927758..77ec289 100644[m
[1m--- a/src/pages/Login/bindCellphone.vue[m
[1m+++ b/src/pages/Login/bindCellphone.vue[m
[36m@@ -32,7 +32,7 @@[m
           this.comm.msg("请输入合法的手机号码");[m
           return;[m
         }[m
[31m-        this.cache.set(this.cache.SESSION_CACHE,"bindMobile",this.mobile);[m
[32m+[m[32m        this.cache.sCache.set("bindMobile",this.mobile);[m
         this.$router.push("/VerificationCode");[m
       }[m
     },[m
[1mdiff --git a/src/pages/Login/verificationCode.vue b/src/pages/Login/verificationCode.vue[m
[1mindex f28487b..2b7e8a4 100644[m
[1m--- a/src/pages/Login/verificationCode.vue[m
[1m+++ b/src/pages/Login/verificationCode.vue[m
[36m@@ -33,7 +33,7 @@[m
         },[m
         loging: false,[m
         interval: 0,[m
[31m-        mobile: this.cache.get(this.cache.SESSION_CACHE, "bindMobile"),[m
[32m+[m[32m        mobile: this.cache.sCache.get("bindMobile"),[m
         vcode: "",[m
         sendTimes: 0[m
       }[m
[36m@@ -74,7 +74,9 @@[m
         });[m
       }[m
     },[m
[31m-    mounted() {},[m
[32m+[m[32m    mounted() {[m
[32m+[m[32m        console.log(this.comm.isLogin())[m
[32m+[m[32m    },[m
     components: {}[m
   }[m
 [m
[1mdiff --git a/src/share/cache.js b/src/share/cache.js[m
[1mindex 2be702d..2281a36 100644[m
[1m--- a/src/share/cache.js[m
[1m+++ b/src/share/cache.js[m
[36m@@ -60,23 +60,59 @@[m [mlet privateFunc={[m
 }[m
 [m
 export default{[m
[31m-    MEMORY_CACHE:"memory",// 内存缓存[m
[31m-    LOCAL_CACHE:"local",// localstorage[m
[31m-    SESSION_CACHE:"session",//sessionstorage[m
[31m-    // hash可选项，传入可避免key冲突覆盖，type为cache.MEMORY_CACHE | cache.LOCAL_CACHE | cache.SESSION_CACHE[m
[31m-    get:function(type,name,hash){[m
[31m-        return privateFunc.get(eval(type),name,hash);[m
[31m-    },[m
[31m-    // 同上[m
[31m-    set:function(type,name,value,hash){[m
[31m-        privateFunc.set(eval(type),name,value,hash);[m
[32m+[m[32m    // memory 缓存[m
[32m+[m[32m    mCache:{[m
[32m+[m[32m        get:function(name,hash){[m
[32m+[m[32m            return privateFunc.get(memory,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        set:function(name,value,hash){[m
[32m+[m[32m            privateFunc.set(memory,name,value,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        exists:function(name,hash){[m
[32m+[m[32m            return privateFunc.exists(memory,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        removeItem:function(name,hash){[m
[32m+[m[32m            return privateFunc.removeItem(memory,name,hash);[m
[32m+[m[32m        }[m
     },[m
[31m-    // 同上[m
[31m-    exists:function(type,name,hash){[m
[31m-        return privateFunc.exists(eval(type),name,hash);[m
[32m+[m[32m    // sessionstorage 缓存[m
[32m+[m[32m    sCache:{[m
[32m+[m[32m        get:function(name,hash){[m
[32m+[m[32m            return privateFunc.get(session,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        set:function(name,value,hash){[m
[32m+[m[32m            privateFunc.set(session,name,value,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        exists:function(name,hash){[m
[32m+[m[32m            return privateFunc.exists(session,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        removeItem:function(name,hash){[m
[32m+[m[32m            return privateFunc.removeItem(session,name,hash);[m
[32m+[m[32m        }[m
     },[m
[31m-    // 同上[m
[31m-    removeItem:function(type,name,hash){[m
[31m-        return privateFunc.removeItem(eval(type),name,hash);[m
[32m+[m[32m    // localstorage 缓存[m
[32m+[m[32m    lCache:{[m
[32m+[m[32m        get:function(name,hash){[m
[32m+[m[32m            return privateFunc.get(local,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        set:function(name,value,hash){[m
[32m+[m[32m            privateFunc.set(local,name,value,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        exists:function(name,hash){[m
[32m+[m[32m            return privateFunc.exists(local,name,hash);[m
[32m+[m[32m        },[m
[32m+[m[32m        // 同上[m
[32m+[m[32m        removeItem:function(name,hash){[m
[32m+[m[32m            return privateFunc.removeItem(local,name,hash);[m
[32m+[m[32m        }[m
     }[m
[32m+[m[41m    [m
 }[m
\ No newline at end of file[m
[1mdiff --git a/src/share/common.js b/src/share/common.js[m
[1mindex 31de6d5..817930b 100644[m
[1m--- a/src/share/common.js[m
[1m+++ b/src/share/common.js[m
[36m@@ -96,15 +96,15 @@[m [mexport default{[m
     // 登录状态[m
     // 判断是否登录，boolean[m
     isLogin:function(){[m
[31m-        return cache.exists(cache.SESSION_CACHE,cfg.sessionKey);[m
[32m+[m[32m        return cache.sCache.exists(cfg.sessionKey);[m
     },[m
     // 登录后设置登录状态[m
     setLoginInfo:function(userInfo){[m
[31m-        cache.set(cache.SESSION_CACHE,cfg.sessionKey,userInfo);[m
[32m+[m[32m        cache.sCache.set(cfg.sessionKey,userInfo);[m
     },[m
     // 获取登录的用户信息[m
     getLoginInfo:function(){[m
[31m-        return cache.get(cache.SESSION_CACHE,cfg.sessionKey);[m
[32m+[m[32m        return cache.sCache.get(cfg.sessionKey);[m
     },[m
     getToken:function(){[m
         if(this.isLogin()){[m

[33mcommit 407e2c66f5c0b83fd5a8c56ad525e0b03711747d[m
Author: gtjyj <190316516@qq.com>
Date:   Sat Jan 5 15:49:31 2019 +0800

    登陆页面布局完成

[1mdiff --git a/src/main.js b/src/main.js[m
[1mindex e0877eb..034e1c0 100644[m
[1m--- a/src/main.js[m
[1m+++ b/src/main.js[m
[36m@@ -11,6 +11,7 @@[m [mimport App from './App'[m
 import router from './router'[m
 import VueResource from 'vue-resource'[m
 import comm from './share/common'[m
[32m+[m[32mimport cache from './share/cache';[m
 // import validate from './share/validate'[m
 [m
 Vue.use(VueResource);[m
[36m@@ -28,6 +29,7 @@[m [mimport titleBar from './components/custom-components';[m
 // Vue.component(Header.name, Header);[m
 [m
 Vue.prototype.cfg = cfg;[m
[32m+[m[32mVue.prototype.cache = cache;[m
 Vue.prototype.comm = comm;[m
 Vue.config.productionTip = false[m
 [m
[1mdiff --git a/src/pages/Jyj/HelloWorld.vue b/src/pages/Jyj/HelloWorld.vue[m
[1mindex e6a871c..4bf7334 100644[m
[1m--- a/src/pages/Jyj/HelloWorld.vue[m
[1m+++ b/src/pages/Jyj/HelloWorld.vue[m
[36m@@ -142,7 +142,7 @@[m [mexport default {[m
           console.log('vvv5',this.task)[m
         },[m
         // 间隔毫秒[m
[31m-        interval:3000,[m
[32m+[m[32m        interval:1000,[m
         // 支持函数，当返回值为true时，任务会休眠（不会执行，但是任务并没有被注销）[m
         // sleep:()=>{[m
         //   return this.$route.path!=='/hello'[m
[1mdiff --git a/src/pages/Login/bindCellphone.vue b/src/pages/Login/bindCellphone.vue[m
[1mindex f672a83..6927758 100644[m
[1m--- a/src/pages/Login/bindCellphone.vue[m
[1m+++ b/src/pages/Login/bindCellphone.vue[m
[36m@@ -1,5 +1,91 @@[m
 <template>[m
[31m-    <div>[m
[31m-        验证码[m
[32m+[m[32m  <div class="center" style="padding-top:40px;">[m
[32m+[m[32m    <div class="login-info">[m
[32m+[m[32m      <div style="margin-top:20px;">[m
[32m+[m[32m        <div class="inline-block" style="width:12%;height:33px;">[m
[32m+[m[32m          <img src="../../assets/imgs/shoujihao@2x.png" style="vertical-align:middle;">[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="inline-block" style="width:70%">[m
[32m+[m[32m          <mt-field label="" v-model="mobile" type="tel" :attr="{ maxlength: 11 }" placeholder="请输入手机号"></mt-field>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
     </div>[m
[32m+[m[32m    <div style="margin-top:30px;">[m
[32m+[m[32m      <c-button theme="dark" v-on:click="next()"  size="big" style="width:90%">下一步</c-button>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
 </template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[41m    [m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'BindCellphone',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m          mobile:"15823278387",[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      next: function () {[m
[32m+[m[32m        if (!regex.isMobile(this.mobile)) {[m
[32m+[m[32m          this.comm.msg("请输入合法的手机号码");[m
[32m+[m[32m          return;[m
[32m+[m[32m        }[m
[32m+[m[32m        this.cache.set(this.cache.SESSION_CACHE,"bindMobile",this.mobile);[m
[32m+[m[32m        this.$router.push("/VerificationCode");[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {},[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .bg-img {[m
[32m+[m[32m    margin-top: 100px;[m
[32m+[m[32m    background: url(../../assets/imgs/denglu_bj@2x.png)no-repeat;[m
[32m+[m[32m    background-size: 100% auto;[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    z-index: -1;[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .logo {[m
[32m+[m[32m    margin: 60px auto 0;[m
[32m+[m[32m    width: 94px;[m
[32m+[m[32m    height: 94px;[m
[32m+[m[32m    background: rgba(255, 255, 255);[m
[32m+[m[32m    box-shadow: 0px 2px 4px 0px rgba(18, 117, 88, 0.12);[m
[32m+[m[32m    border-radius: 18px;[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .logo>img {[m
[32m+[m[32m    width: 70px;[m
[32m+[m[32m    height: 70px;[m
[32m+[m[32m    margin: 12px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .appName {[m
[32m+[m[32m    color: #666;[m
[32m+[m[32m    margin: 10px auto;[m
[32m+[m[32m    width: 90px;[m
[32m+[m[32m    height: 28px;[m
[32m+[m[32m    font-size: 22px;[m
[32m+[m[32m    font-family: PingFangSC-Regular;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    line-height: 28px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .login-info {[m
[32m+[m[32m    margin-top: 40px;[m
[32m+[m[32m    padding-top: 1px;[m
[32m+[m[32m    margin: 20px auto;[m
[32m+[m[32m    width: 347px;[m
[32m+[m[32m    border-radius: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/pages/Login/login.vue b/src/pages/Login/login.vue[m
[1mindex f3a5bf1..8a5d577 100644[m
[1m--- a/src/pages/Login/login.vue[m
[1m+++ b/src/pages/Login/login.vue[m
[36m@@ -14,7 +14,7 @@[m
             <img src="../../assets/imgs/shoujihao@2x.png" style="vertical-align:middle;">[m
           </div>[m
           <div class="inline-block" style="width:70%">[m
[31m-            <mt-field label="" v-model="username" :attr="{ maxlength: 11 }" placeholder="请输入手机号"></mt-field>[m
[32m+[m[32m            <mt-field label="" v-model="mobile" :attr="{ maxlength: 11 }" type="tel" placeholder="请输入手机号"></mt-field>[m
           </div>[m
         </div>[m
         <div>[m
[36m@@ -22,7 +22,7 @@[m
             <img src="../../assets/imgs/yanzhengma@2x.png" style="vertical-align:middle;">[m
           </div>[m
           <div class="inline-block" style="width:70%">[m
[31m-            <mt-field label="" v-model="password" :attr="{ maxlength: 6 }" placeholder="请输入验证码">[m
[32m+[m[32m            <mt-field label="" v-model="vcode" :attr="{ maxlength: 6 }" type="number" placeholder="请输入验证码">[m
               <div style="color:#999999;width:80px;" @click="getSms()" v-if="interval<=0">获取验证码</div>[m
               <div style="color:#999999;width:80px;text-align:center" v-if="interval>0">{{interval}} 秒</div>[m
             </mt-field>[m
[36m@@ -59,31 +59,40 @@[m [mexport default {[m
       appName:this.cfg.appName,[m
       interval:0,[m
       loging:false,[m
[31m-      username:"",[m
[31m-      password:""[m
[32m+[m[32m      mobile:"",[m
[32m+[m[32m      vcode:"",[m
[32m+[m[32m      sendTimes:0[m
     }[m
   },[m
   methods: {[m
     login:function(){[m
[31m-      if(!regex.isMobile(this.username)){[m
[32m+[m[32m      if(this.sendTimes===0){[m
[32m+[m[32m        this.comm.msg("请先发送验证码");return;[m
[32m+[m[32m      }[m
[32m+[m[32m      if(!regex.isMobile(this.mobile)){[m
         this.comm.msg("请输入合法的手机号码");return;[m
       }[m
[31m-      if(!/^[0-9]{4,6}$/.test(this.password)){[m
[32m+[m[32m      if(!/^[0-9]{4,6}$/.test(this.vcode)){[m
         this.comm.msg("请输入合法的验证码");return;[m
       }[m
[32m+[m
       this.loging=true;[m
[32m+[m[32m      // http校验无误hi后跳转到首页[m
     },[m
     getSms:function(){[m
[32m+[m[32m      if(!regex.isMobile(this.mobile)){[m
[32m+[m[32m        this.comm.msg("请输入合法的手机号码");return;[m
[32m+[m[32m      }[m
       if(this.interval<=0){[m
         this.interval=10;[m
       }else{[m
         return;// 正在倒计时中[m
       }[m
[32m+[m[32m      this.sendTimes++;[m
       // 请求服务端，倒计时[m
       this.comm.addSchedule({[m
         guid:this.viewModel.guid,[m
         excute:()=>{[m
[31m-          console.log(111)[m
           if(this.interval>0)[m
             this.interval--;[m
           else{[m
[1mdiff --git a/src/pages/Login/verificationCode.vue b/src/pages/Login/verificationCode.vue[m
[1mindex fb9e283..f28487b 100644[m
[1m--- a/src/pages/Login/verificationCode.vue[m
[1m+++ b/src/pages/Login/verificationCode.vue[m
[36m@@ -1,5 +1,103 @@[m
 <template>[m
[31m-    <div>[m
[31m-        绑定[m
[32m+[m[32m  <div class="center" style="padding-top:40px;">[m
[32m+[m[32m    <div class="login-info">[m
[32m+[m[32m      <div style="margin-top:20px;">[m
[32m+[m[32m        <div class="tleft mobile-title" style="margin-left:35px;">[m
[32m+[m[32m          接受验证码手机号码: {{mobile}}[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="inline-block" style="width:12%;height:33px;">[m
[32m+[m[32m          <img src="../../assets/imgs/yanzhengma@2x.png" style="vertical-align:middle;">[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div class="inline-block" style="width:70%">[m
[32m+[m[32m          <mt-field label="" v-model="vcode" :attr="{ maxlength: 6 }" type="number" placeholder="请输入验证码">[m
[32m+[m[32m            <div style="color:#999999;width:80px;" @click="getSms()" v-if="interval<=0">获取验证码</div>[m
[32m+[m[32m            <div style="color:#999999;width:80px;text-align:center" v-if="interval>0">{{interval}} 秒</div>[m
[32m+[m[32m          </mt-field>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
     </div>[m
[32m+[m[32m    <div style="margin-top:30px;">[m
[32m+[m[32m      <c-button theme="dark" v-on:click="next()" :disable="loging" size="big" style="width:90%">登陆</c-button>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  </div>[m
 </template>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  import regex from '../../share/regex'[m
[32m+[m[32m  export default {[m
[32m+[m[32m    name: 'VerificationCode',[m
[32m+[m[32m    data() {[m
[32m+[m[32m      return {[m
[32m+[m[32m        viewModel: {[m
[32m+[m[32m          guid: "bind-phone-sms"[m
[32m+[m[32m        },[m
[32m+[m[32m        loging: false,[m
[32m+[m[32m        interval: 0,[m
[32m+[m[32m        mobile: this.cache.get(this.cache.SESSION_CACHE, "bindMobile"),[m
[32m+[m[32m        vcode: "",[m
[32m+[m[32m        sendTimes: 0[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    methods: {[m
[32m+[m[32m      next: function () {[m
[32m+[m[32m        if (this.sendTimes === 0) {[m
[32m+[m[32m          this.comm.msg("请先发送验证码");[m
[32m+[m[32m          return;[m
[32m+[m[32m        }[m
[32m+[m[32m        if (!/^[0-9]{4,6}$/.test(this.vcode)) {[m
[32m+[m[32m          this.comm.msg("请输入合法的验证码");[m
[32m+[m[32m          return;[m
[32m+[m[32m        }[m
[32m+[m[32m        this.loging = true;[m
[32m+[m[32m        // http校验无误hi后跳转到首页[m
[32m+[m[32m      },[m
[32m+[m[32m      getSms: function () {[m
[32m+[m[32m        if (this.interval <= 0) {[m
[32m+[m[32m          this.interval = 10;[m
[32m+[m[32m        } else {[m
[32m+[m[32m          return; // 正在倒计时中[m
[32m+[m[32m        }[m
[32m+[m[32m        this.sendTimes++;[m
[32m+[m[32m        // 请求服务端，倒计时[m
[32m+[m[32m        this.comm.addSchedule({[m
[32m+[m[32m          guid: this.viewModel.guid,[m
[32m+[m[32m          excute: () => {[m
[32m+[m[32m            if (this.interval > 0)[m
[32m+[m[32m              this.interval--;[m
[32m+[m[32m            else {[m
[32m+[m[32m              this.comm.removeSchedule(this.viewModel.guid);[m
[32m+[m[32m              this.interval = 0;[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          interval: 1000,[m
[32m+[m[32m          sleep: '/VerificationCode'[m
[32m+[m[32m        });[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    mounted() {},[m
[32m+[m[32m    components: {}[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<!-- Add "scoped" attribute to limit CSS to this component only -->[m
[32m+[m[32m<style scoped>[m
[32m+[m[32m  .mobile-title {[m
[32m+[m[32m    width: 224px;[m
[32m+[m[32m    height: 20px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    font-family: PingFangSC-Regular;[m
[32m+[m[32m    font-weight: 400;[m
[32m+[m[32m    color: rgba(51, 51, 51, 1);[m
[32m+[m[32m    line-height: 20px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .login-info {[m
[32m+[m[32m    margin-top: 40px;[m
[32m+[m[32m    padding-top: 1px;[m
[32m+[m[32m    margin: 20px auto;[m
[32m+[m[32m    width: 347px;[m
[32m+[m[32m    border-radius: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m</style>[m
[1mdiff --git a/src/share/cache.js b/src/share/cache.js[m
[1mindex 44840f1..2be702d 100644[m
[1m--- a/src/share/cache.js[m
[1m+++ b/src/share/cache.js[m
[36m@@ -65,18 +65,18 @@[m [mexport default{[m
     SESSION_CACHE:"session",//sessionstorage[m
     // hash可选项，传入可避免key冲突覆盖，type为cache.MEMORY_CACHE | cache.LOCAL_CACHE | cache.SESSION_CACHE[m
     get:function(type,name,hash){[m
[31m-        this.privateFunc.get(this[type],name,hash);[m
[32m+[m[32m        return privateFunc.get(eval(type),name,hash);[m
     },[m
     // 同上[m
     set:function(type,name,value,hash){[m
[31m-        this.privateFunc.set(this[type],name,value,hash);[m
[32m+[m[32m        privateFunc.set(eval(type),name,value,hash);[m
     },[m
     // 同上[m
     exists:function(type,name,hash){[m
[31m-        return this.privateFunc.exists(this[type],name,hash);[m
[32m+[m[32m        return privateFunc.exists(eval(type),name,hash);[m
     },[m
     // 同上[m
     removeItem:function(type,name,hash){[m
[31m-        return this.privateFunc.removeItem(this[type],name,hash);[m
[32m+[m[32m        return privateFunc.removeItem(eval(type),name,hash);[m
     }[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/src/share/schedule.js b/src/share/schedule.js[m
[1mindex b7c8c2b..eae0bfc 100644[m
[1m--- a/src/share/schedule.js[m
[1m+++ b/src/share/schedule.js[m
[36m@@ -30,7 +30,7 @@[m [mclass Task {[m
         //     if(this.sleep)return;//外部阻止执行[m
         // }[m
         if(typeof this.sleep ==="string"){[m
[31m-            if(router.app.$route.path!==this.sleep)return;[m
[32m+[m[32m            if(router.app.$route.path.toLowerCase()!==this.sleep.toLowerCase())return;[m
         }[m
         let now = getNow();[m
         if(this.first_run_time===0){[m
[36m@@ -53,9 +53,7 @@[m [mclass Task {[m
     [m
     destroy(){[m
         this._isDestory=true;[m
[31m-        setTimeout(()=>{[m
[31m-            Tasks = Tasks.filter(o=>!o._isDestory);[m
[31m-        })[m
[32m+[m[32m        Tasks = Tasks.filter(o=>!o._isDestory);[m
     }[m
 }[m
 function schedule(){[m
[36m@@ -74,9 +72,11 @@[m [mfunction addTask(opt){[m
     let task = Tasks.find(o=>o.getGuid()===opt.guid);[m
     if(task){[m
         // 重复的任务[m
[31m-        console.warn("试图添加重复的任务")[m
[31m-        return task;[m
[32m+[m[32m        console.warn("试图添加重复的任务，清空之前的任务");[m
[32m+[m[32m        removeTask(task.getGuid());[m
[32m+[m[32m        console.log(111)[m
     }[m
[32m+[m[41m    [m
     task = new Task(opt.excute,opt.interval,opt.guid,opt.sleep);[m
     Tasks.push(task);[m
     return task;[m

[33mcommit da45ec2cd2b419acb7d328bc154516ffbf92dcbc[m
Author: gtjyj <190316516@qq.com>
Date:   Sat Jan 5 15:09:32 2019 +0800

    新增子路由文件

[1mdiff --git a/src/assets/css/init.css b/src/assets/css/init.css[m
[1mindex 8db9100..4f360f1 100644[m
[1m--- a/src/assets/css/init.css[m
[1m+++ b/src/assets/css/init.css[m
[36m@@ -1,10 +1,5 @@[m
[31m-<<<<<<< HEAD[m
[31m-body{ margin: 0;padding: 0;font-family: "微软雅黑";overflow: hidden;}[m
[31m-body,html{-webkit-text-size-adjust: none;width: 100%;height: 100%;font-size: 10px;}[m
[31m-=======[m
 body{ margin: 0;padding: 0;font-family:PingFangSC-Regular;overflow: hidden;}[m
 body,html{-webkit-text-size-adjust: none;width: 100%;height: 100%;}[m
[31m->>>>>>> ffc43f3691ae08b1389f061872d3197415504428[m
 *{text-decoration: none;list-style: none;}[m
 img{border: 0px;}[m
 ul,li,dl,dd,dt,p,ol,h1,h2,h3,h4,h5{font-size: 12px;font-weight: 100;padding: 0;margin: 0;}[m
[1mdiff --git a/src/router/index.js b/src/router/index.js[m
[1mindex 8d806bf..aee5890 100644[m
[1m--- a/src/router/index.js[m
[1m+++ b/src/router/index.js[m
[36m@@ -1,5 +1,6 @@[m
 import Vue from 'vue'[m
 import Router from 'vue-router'[m
[32m+[m[32mimport subIndex from './sub-index'[m
 // import HelloWorld from '@/components/HelloWorld'[m
 [m
 Vue.use(Router)[m
[36m@@ -21,5 +22,5 @@[m [mexport default new Router({[m
       name: 'Login',[m
       component: resolve => require(['@/pages/login/login'],resolve),[m
     }[m
[31m-  ][m
[32m+[m[32m  ].concat(subIndex)[m
 })[m
[1mdiff --git a/src/router/sub-index.js b/src/router/sub-index.js[m
[1mnew file mode 100644[m
[1mindex 0000000..7124fc0[m
[1m--- /dev/null[m
[1m+++ b/src/router/sub-index.js[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m
[32m+[m[32mexport default [[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/BindCellPhone',[m
[32m+[m[32m        name: 'BindCellPhone',[m
[32m+[m[32m        component: resolve => require(['@/pages/login/bindCellPhone'],resolve),[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        path: '/VerificationCode',[m
[32m+[m[32m        name: 'VerificationCode',[m
[32m+[m[32m        component: resolve => require(['@/pages/login/VerificationCode'],resolve),[m
[32m+[m[32m      }[m
[32m+[m[32m    ][m[41m [m
\ No newline at end of file[m
